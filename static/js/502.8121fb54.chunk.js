"use strict";(self.webpackChunkmarvel_app=self.webpackChunkmarvel_app||[]).push([[502],{146:function(e,n,t){function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,n){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},c(e,n)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}t.d(n,{Z:function(){return f}});var i=t(2);function l(e,n){if(n&&("object"===(0,i.Z)(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=s(e);if(n){var a=s(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return l(this,t)}}var u=t(791),d=t(280),h=t(184),m=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&c(e,n)}(l,e);var n,t,s,i=o(l);function l(){var e;r(this,l);for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(e=i.call.apply(i,[this].concat(t))).state={error:!1},e}return n=l,(t=[{key:"componentDidCatch",value:function(e,n){console.log(e,n),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,h.jsx)(d.Z,{}):this.props.children}}])&&a(n.prototype,t),s&&a(n,s),Object.defineProperty(n,"prototype",{writable:!1}),l}(u.Component),f=m},286:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r=t(885),a=t(791),c=t(482),s=t(4),i=t(280),l=t(184),o=function(e){var n=e.char,t=n.name,r=n.description,a=n.thumbnail,c=n.homepage,s=n.wiki,i=r;if(t&&i&&a&&c&&s){0===i.length&&(i="There is no information about this character yet"),i.length>214&&(i=i.slice(0,215)+"...");var o={};return(a.includes("image_not_available")||a.includes("4c002e0305708"))&&(o={objectFit:"fill"}),(0,l.jsxs)("div",{className:"randomchar__block",children:[(0,l.jsx)("img",{src:a,alt:"Random charater.",className:"randomchar__image",style:o}),(0,l.jsxs)("div",{className:"randomchar__info",children:[(0,l.jsx)("p",{className:"randomchar__name",children:t}),(0,l.jsx)("p",{className:"randomchar__descr",children:i}),(0,l.jsxs)("div",{className:"randomchar__btns",children:[(0,l.jsx)("a",{href:c,className:"button button__main",children:(0,l.jsx)("div",{className:"inner",children:"Homepage"})}),(0,l.jsx)("a",{href:s,className:"button button__secondary",children:(0,l.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})}},u=function(e){var n=(0,c.Z)(),t=n.loading,u=n.error,d=n.getCharacter,h=(0,a.useState)({name:null,description:null,thumbnail:null,homepage:null,wiki:null}),m=(0,r.Z)(h,2),f=m[0],_=m[1];(0,a.useEffect)((function(){p()}),[]);var j=function(e){_(e)},p=function(){var e=Math.floor(400*Math.random()+1011e3);d(e).then(j)},v=t?(0,l.jsx)(s.Z,{}):null,x=u?(0,l.jsx)(i.Z,{}):null,b=t||u?null:(0,l.jsx)(o,{char:f});return(0,l.jsxs)("section",{className:"randomchar",children:[(0,l.jsx)("h2",{className:"visually-hidden",children:"Random Character"}),x,v,b,(0,l.jsxs)("div",{className:"randomchar__static",children:[(0,l.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",(0,l.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,l.jsx)("p",{className:"randomchar__title randomchar__title--second",children:"Or choose another one"}),(0,l.jsx)("button",{onClick:p,className:"button button__main",children:(0,l.jsx)("div",{className:"inner",children:"Try It"})})]})]})},d=t(982),h=function(e){var n=(0,c.Z)(),t=n.baseOffset,o=n.loading,u=n.error,h=n.getAllCharacters,m=(0,a.useRef)(null),f=(0,a.useState)([]),_=(0,r.Z)(f,2),j=_[0],p=_[1],v=(0,a.useState)(t),x=(0,r.Z)(v,2),b=x[0],y=x[1],N=(0,a.useState)(!1),g=(0,r.Z)(N,2),k=g[0],w=g[1],Z=(0,a.useState)(!1),C=(0,r.Z)(Z,2),O=C[0],S=C[1];(0,a.useEffect)((function(){return R(),window.addEventListener("scroll",E),function(){window.removeEventListener("scroll",E)}}),[]);var E=function(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&m.current.click()},P=function(e){e.length<9&&S(!0),p((function(n){return[].concat((0,d.Z)(n),(0,d.Z)(e))})),w(!1),y((function(e){return e+9}))},R=function(e){w(!0),h(e).then(P)},T=function(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.target.click(),e.target.blur())},L=o&&!j.length?(0,l.jsx)(s.Z,{}):null,F=u?(0,l.jsx)(i.Z,{}):null,A=function(){var n=e.onUpdateSelectedChar,t=e.selectedChar,r=j.map((function(e){var r=e.thumbnail,a=e.name,c=e.id,s={};(r.includes("image_not_available")||r.includes("4c002e0305708"))&&(s={objectFit:"fill"});var i="char__item";return c===t&&(i+=" char__item--selected"),(0,l.jsxs)("li",{className:i,onClick:function(){return n(c)},tabIndex:0,onKeyDown:T,children:[(0,l.jsx)("img",{src:r,alt:"name",style:s}),(0,l.jsx)("div",{className:"char__name",children:a})]},c)}));return(0,l.jsx)("ul",{className:"char__grid",children:r})}(),D=null;return O||u||(D=(0,l.jsx)("button",{ref:m,className:"button button__main button--long",disabled:k,onClick:function(){return R(b)},children:(0,l.jsx)("div",{className:"inner",children:k?"Loading...":"Load more"})})),(0,l.jsxs)("section",{className:"char__list",children:[(0,l.jsx)("h3",{className:"visually-hidden",children:"Characters List"}),L,F,A,D]})},m=function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,l.jsxs)("div",{className:"skeleton",children:[(0,l.jsxs)("div",{className:"pulse skeleton__header",children:[(0,l.jsx)("div",{className:"pulse skeleton__circle"}),(0,l.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,l.jsx)("div",{className:"pulse skeleton__block"}),(0,l.jsx)("div",{className:"pulse skeleton__block"}),(0,l.jsx)("div",{className:"pulse skeleton__block"})]})]})},f=t(504),_=function(e){var n=(0,a.useState)(null),t=(0,r.Z)(n,2),c=t[0],s=t[1],i=(0,a.useState)(!0),o=(0,r.Z)(i,2),u=o[0],d=o[1];(0,a.useEffect)((function(){var n=e.char.comicsList;h(n)}),[]);var h=function(e){var n=!1,t=e.map((function(e,t){var r={};return t>9&&(r={display:"none"},n=!0),(0,l.jsx)("li",{className:"char__comics__item",style:r,children:(0,l.jsx)(f.rU,{to:"comics/".concat(e.id),children:e.name})},t)}));0===t.length&&(t="This character has not appeared in any comics."),n?(s(t),d(!1)):s(t)},m=e.char,_=m.name,j=m.description,p=m.thumbnail,v=m.homepage,x=m.wiki,b=m.comicsList,y=function(e){return 0===e.length?"There is no information about this character yet":e.length>214?e.slice(0,215)+"...":e}(j),N={};(p.includes("image_not_available")||p.includes("4c002e0305708"))&&(N={objectFit:"fill"});var g=(0,l.jsx)("button",{href:x,className:"button button__main button--long",onClick:function(){return function(e){var n=e.map((function(e,n){return(0,l.jsx)("li",{className:"char__comics__item",children:(0,l.jsx)("a",{href:e.url,children:e.name})},n)}));s(n),d(!0)}(b)},children:(0,l.jsx)("div",{className:"inner",children:"Show more comics"})});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{className:"visually-hidden",children:"Selected character info"}),(0,l.jsxs)("div",{className:"char__basics",children:[(0,l.jsx)("img",{src:p,alt:_,className:"char__image",style:N}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"char__name--info",children:_}),(0,l.jsxs)("div",{className:"char__btns",children:[(0,l.jsx)("a",{href:v,className:"button button__main",children:(0,l.jsx)("div",{className:"inner",children:"Homepage"})}),(0,l.jsx)("a",{href:x,className:"button button__secondary",children:(0,l.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),(0,l.jsx)("div",{className:"char__descr",children:y}),(0,l.jsxs)("div",{className:"char__comics",children:[(0,l.jsx)("span",{children:"Comics: "}),(0,l.jsxs)("ul",{className:"char__comics__list",children:[c,u?null:g]})]})]})},j=function(e){var n=(0,c.Z)(),t=n.loading,o=n.error,u=n.getCharacter,d=(0,a.useState)(null),h=(0,r.Z)(d,2),f=h[0],j=h[1],p=e.selectedChar;(0,a.useEffect)((function(){v()}),[p]);var v=function(){p&&u(p).then(j)},x=t||o||!f?null:(0,l.jsx)(_,{char:f}),b=t?(0,l.jsx)(s.Z,{}):null,y=o?(0,l.jsx)(i.Z,{}):null,N=t||o||f?null:(0,l.jsx)(m,{});return(0,l.jsxs)("section",{className:"char__info",children:[x,b,y,N]})},p=t(146),v=t.p+"static/media/vision.067d4ae1936d64a577ce.png",x=function(){var e=(0,a.useState)(null),n=(0,r.Z)(e,2),t=n[0],c=n[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.Z,{children:(0,l.jsx)(u,{})}),(0,l.jsxs)("section",{className:"char__content",children:[(0,l.jsx)("h2",{className:"visually-hidden",children:"Characters"}),(0,l.jsx)(p.Z,{children:(0,l.jsx)(h,{selectedChar:t,onUpdateSelectedChar:function(e){c(e)}})}),(0,l.jsx)(p.Z,{children:(0,l.jsx)(j,{selectedChar:t})})]}),(0,l.jsx)("img",{src:v,alt:"vision","aria-hidden":"true",className:"bg-decoration"})]})}},982:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(907);var a=t(181);function c(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=502.8121fb54.chunk.js.map