"use strict";(self.webpackChunkmarvel_app=self.webpackChunkmarvel_app||[]).push([[294],{146:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.d(t,{Z:function(){return m}});var a=n(2);function u(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var l=n(791),f=n(280),d=n(184),p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,n,c,a=s(u);function u(){var e;r(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={error:!1},e}return t=u,(n=[{key:"componentDidCatch",value:function(e,t){console.log(e,t),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,d.jsx)(f.Z,{}):this.props.children}}])&&o(t.prototype,n),c&&o(t,c),Object.defineProperty(t,"prototype",{writable:!1}),u}(l.Component),m=p},174:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",o=n.p+"static/media/Avengers_logo.9eaf219344d83362e830.png",i=n(184),c=function(){return(0,i.jsxs)("aside",{className:"app__banner",children:[(0,i.jsx)("img",{src:r,"aria-hidden":"true"}),(0,i.jsxs)("div",{className:"app__banner__text",children:["New comics every week!",(0,i.jsx)("br",{}),"Stay tuned!"]}),(0,i.jsx)("img",{src:o,"aria-hidden":"true"})]})},a=n(982),u=n(885),s=n(791),l=n(504),f=n(482),d=n(4),p=n(280),m=function(e){var t=(0,f.Z)(),n=t.getAllComics,r=t.loading,o=t.error,c=t.baseOffset,m=(0,s.useRef)(null),h=(0,s.useState)([]),b=(0,u.Z)(h,2),y=b[0],v=b[1],_=(0,s.useState)(c),j=(0,u.Z)(_,2),g=j[0],x=j[1],w=(0,s.useState)(!1),O=(0,u.Z)(w,2),Z=O[0],N=O[1],k=(0,s.useState)(!1),E=(0,u.Z)(k,2),S=E[0],P=E[1];(0,s.useEffect)((function(){return R(g),n(),window.addEventListener("scroll",C),function(){window.removeEventListener("scroll",C)}}),[]);var C=function(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&m.current.click()},A=function(e){e.length<8&&P(!0),v((function(t){return[].concat((0,a.Z)(t),(0,a.Z)(e))})),N(!1),x((function(e){return e+9}))},R=function(e){N(!0),n(e).then(A)},L=r&&!y.length?(0,i.jsx)(d.Z,{}):null,T=o?(0,i.jsx)(p.Z,{}):null,B=function(){var e=y.map((function(e){var t=e.id,n=e.price,r=e.thumbnail,o=e.title;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("li",{className:"comics__item",children:(0,i.jsxs)(l.rU,{to:"".concat(t),children:[(0,i.jsx)("img",{src:r,alt:o,className:"comics__item__img"}),(0,i.jsx)("div",{className:"comics__item__name",children:o}),(0,i.jsx)("div",{className:"comics__item__price",children:n})]})},t)})}));return(0,i.jsx)("ul",{className:"comics__grid",children:e})}(),D=null;return S||o||(D=(0,i.jsx)("button",{ref:m,className:"button button__main button--long",disabled:Z,onClick:function(){return R(g)},children:(0,i.jsx)("div",{className:"inner",children:Z?"Loading...":"Load more"})})),(0,i.jsxs)("section",{className:"comics__list",children:[(0,i.jsx)("h2",{className:"visually-hidden",children:"Comics list"}),L,T,B,D]})},h=n(146),b=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c,{}),(0,i.jsx)(h.Z,{children:(0,i.jsx)(m,{})})]})}},982:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(907);var o=n(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=294.d8e9b80c.chunk.js.map